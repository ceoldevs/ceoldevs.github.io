---
// import extract from 'meta-extractor';
import fetchMeta from 'fetch-meta-tags'

const {url} = Astro.props;

const result = await fetchMeta(url)
---

<a href={result.url} class="my-4 not-prose text-inherit flex gap-10 border-[1px] px-4 py-4 border-black/20 rounded-lg">
    <img class="md:block hidden object-cover w-36 h-36 rounded-lg" src={result.image ?? result.icon} alt={result.image}/>
    <div class="prose gap-y-2 overflow-hidden flex flex-col">
        <strong class="">{result.title}</strong>
        <p class="text-ellipsis overflow-hidden h-10 text-sm">{result.description}</p>
        <div class="flex items-center gap-2">
            <img class="object-cover w-4 h-4 rounded" src={result.icon} alt={result.icon}/>
            <div class="underline text-sm">{result.url}</div>
        </div>
    </div>
</a>